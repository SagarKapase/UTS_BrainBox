@page "/addQuestions"
@layout MainLayout

@using System.Text.RegularExpressions
@using System.ComponentModel.DataAnnotations
@using UTS_BrainBox.Client.Layout
<MudText Typo="Typo.h4" GutterBottom="true">Add Question</MudText>

<div style="margin-top:15px;width:100%;">
    <MudGrid Style="width:100%;">
        <MudItem Style="width:100%;">
            <MudPaper Class="pa-4">
                <MudForm @ref="form" @bind-IsValid="@success" @bind-Errors="@errors">
                    <MudSelect @bind-Value="_value"
                               Label="Select Quiz"
                               Placeholder="">
                        @foreach (var state in _states)
                        {
                            <MudSelectItem Value="state">@state</MudSelectItem>
                        }
                    </MudSelect>
                    <MudTextField T="string" Label="Question" Required="true" RequiredError="Question is required!" />
                    <MudSelect @bind-Value="_qvalue"
                               Label="Select Question Type"
                               Placeholder="">
                        @foreach (var qtype in _questionType)
                        {
                            <MudSelectItem Value="qtype">@qtype</MudSelectItem>
                        }
                    </MudSelect>
                    <MudTextField T="string" Label="Points" Required="true" RequiredError="" />
                </MudForm>
            </MudPaper>
            <MudPaper Class="pa-4 mt-4">
                <MudButton Variant="Variant.Filled" Color="Color.Secondary" DropShadow="false" OnClick="@(()=>form.ResetAsync())" Class="mx-2">Reset</MudButton>
                <MudButton Variant="Variant.Filled" DropShadow="false" OnClick="AddQuestion">Add</MudButton>
            </MudPaper>
        </MudItem>
    </MudGrid>
</div>
@code {
    bool success;
    string[] errors = { };
    MudForm form;
    [Inject] NavigationManager Navigation { get; set; }
    private string _value;
    private string _qvalue;
    
    private readonly string[] _states =
    {
        "Onboarding", "Technology", "Soft Skills"
    };
    private readonly string[] _questionType =
    {
        "Multiple Choice Question (MCQ)"
    };

    private void AddQuestion()
    {
        //Navigation.NavigateTo("/manageQuizzes");
    }

    private void GoBack() => Navigation.NavigateTo("/manageQuizzes");
}
